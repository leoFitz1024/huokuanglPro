<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tmqt.dao.ProductplanMapper">
  <resultMap id="BaseResultMap" type="com.tmqt.model.Productplan">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="code" jdbcType="VARCHAR" property="code" />
    <result column="image" jdbcType="VARCHAR" property="image" />
    <result column="material" jdbcType="VARCHAR" property="material" />
    <result column="insidefabric" jdbcType="VARCHAR" property="insidefabric" />
    <result column="bottommaterial" jdbcType="VARCHAR" property="bottommaterial" />
    <result column="type" jdbcType="VARCHAR" property="type" />
    <result column="color" jdbcType="VARCHAR" property="color" />
    <result column="factory" jdbcType="VARCHAR" property="factory" />
    <result column="cost" jdbcType="VARCHAR" property="cost" />
    <result column="price" jdbcType="REAL" property="price" />
    <result column="titlestate" jdbcType="INTEGER" property="titlestate" />
    <result column="brand" jdbcType="VARCHAR" property="brand" />
    <result column="takelength" jdbcType="INTEGER" property="takelength" />
    <result column="dctime" jdbcType="TIMESTAMP" property="dctime" />
    <result column="altime" jdbcType="TIMESTAMP" property="altime" />
    <result column="kdtime" jdbcType="TIMESTAMP" property="kdtime" />
    <result column="tmtime" jdbcType="TIMESTAMP" property="tmtime" />
    <result column="dcpre" jdbcType="INTEGER" property="dcpre" />
    <result column="alpre" jdbcType="INTEGER" property="alpre" />
    <result column="kdpre" jdbcType="INTEGER" property="kdpre" />
    <result column="tmpre" jdbcType="INTEGER" property="tmpre" />
    <result column="prephototime" jdbcType="TIMESTAMP" property="prephototime" />
    <result column="remarks" jdbcType="VARCHAR" property="remarks" />
    <result column="addtime" jdbcType="TIMESTAMP" property="addtime" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, code, image, material, insidefabric, bottommaterial, type, color, factory, cost,
    price, titlestate, brand, takelength, dctime, altime, kdtime, tmtime, dcpre, alpre,
    kdpre, tmpre, prephototime, remarks, addtime
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from productplan
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from productplan
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.tmqt.model.Productplan">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into productplan (id, code, image,
    material, insidefabric, bottommaterial,
    type, color, factory,
    cost, price, titlestate,
    brand, takelength, dctime,
    altime, kdtime, tmtime,
    dcpre, alpre, kdpre,
    tmpre, prephototime, remarks,
    addtime)
    values (#{id,jdbcType=INTEGER}, #{code,jdbcType=VARCHAR}, #{image,jdbcType=VARCHAR},
    #{material,jdbcType=VARCHAR}, #{insidefabric,jdbcType=VARCHAR}, #{bottommaterial,jdbcType=VARCHAR},
    #{type,jdbcType=VARCHAR}, #{color,jdbcType=VARCHAR}, #{factory,jdbcType=VARCHAR},
    #{cost,jdbcType=VARCHAR}, #{price,jdbcType=REAL}, #{titlestate,jdbcType=INTEGER},
    #{brand,jdbcType=VARCHAR}, #{takelength,jdbcType=INTEGER}, #{dctime,jdbcType=TIMESTAMP},
    #{altime,jdbcType=TIMESTAMP}, #{kdtime,jdbcType=TIMESTAMP}, #{tmtime,jdbcType=TIMESTAMP},
    #{dcpre,jdbcType=INTEGER}, #{alpre,jdbcType=INTEGER}, #{kdpre,jdbcType=INTEGER},
    #{tmpre,jdbcType=INTEGER}, #{prephototime,jdbcType=TIMESTAMP}, #{remarks,jdbcType=VARCHAR},
    #{addtime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.tmqt.model.Productplan">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into productplan
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="code != null">
        code,
      </if>
      <if test="image != null">
        image,
      </if>
      <if test="material != null">
        material,
      </if>
      <if test="insidefabric != null">
        insidefabric,
      </if>
      <if test="bottommaterial != null">
        bottommaterial,
      </if>
      <if test="type != null">
        type,
      </if>
      <if test="color != null">
        color,
      </if>
      <if test="factory != null">
        factory,
      </if>
      <if test="cost != null">
        cost,
      </if>
      <if test="price != null">
        price,
      </if>
      <if test="titlestate != null">
        titlestate,
      </if>
      <if test="brand != null">
        brand,
      </if>
      <if test="takelength != null">
        takelength,
      </if>
      <if test="dctime != null">
        dctime,
      </if>
      <if test="altime != null">
        altime,
      </if>
      <if test="kdtime != null">
        kdtime,
      </if>
      <if test="tmtime != null">
        tmtime,
      </if>
      <if test="dcpre != null">
        dcpre,
      </if>
      <if test="alpre != null">
        alpre,
      </if>
      <if test="kdpre != null">
        kdpre,
      </if>
      <if test="tmpre != null">
        tmpre,
      </if>
      <if test="prephototime != null">
        prephototime,
      </if>
      <if test="remarks != null">
        remarks,
      </if>
      <if test="addtime != null">
        addtime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="code != null">
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="image != null">
        #{image,jdbcType=VARCHAR},
      </if>
      <if test="material != null">
        #{material,jdbcType=VARCHAR},
      </if>
      <if test="insidefabric != null">
        #{insidefabric,jdbcType=VARCHAR},
      </if>
      <if test="bottommaterial != null">
        #{bottommaterial,jdbcType=VARCHAR},
      </if>
      <if test="type != null">
        #{type,jdbcType=VARCHAR},
      </if>
      <if test="color != null">
        #{color,jdbcType=VARCHAR},
      </if>
      <if test="factory != null">
        #{factory,jdbcType=VARCHAR},
      </if>
      <if test="cost != null">
        #{cost,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        #{price,jdbcType=REAL},
      </if>
      <if test="titlestate != null">
        #{titlestate,jdbcType=INTEGER},
      </if>
      <if test="brand != null">
        #{brand,jdbcType=VARCHAR},
      </if>
      <if test="takelength != null">
        #{takelength,jdbcType=INTEGER},
      </if>
      <if test="dctime != null">
        #{dctime,jdbcType=TIMESTAMP},
      </if>
      <if test="altime != null">
        #{altime,jdbcType=TIMESTAMP},
      </if>
      <if test="kdtime != null">
        #{kdtime,jdbcType=TIMESTAMP},
      </if>
      <if test="tmtime != null">
        #{tmtime,jdbcType=TIMESTAMP},
      </if>
      <if test="dcpre != null">
        #{dcpre,jdbcType=INTEGER},
      </if>
      <if test="alpre != null">
        #{alpre,jdbcType=INTEGER},
      </if>
      <if test="kdpre != null">
        #{kdpre,jdbcType=INTEGER},
      </if>
      <if test="tmpre != null">
        #{tmpre,jdbcType=INTEGER},
      </if>
      <if test="prephototime != null">
        #{prephototime,jdbcType=TIMESTAMP},
      </if>
      <if test="remarks != null">
        #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="addtime != null">
        #{addtime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>

  <update id="updateByPrimaryKeySelective" parameterType="com.tmqt.model.Productplan">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update productplan
    <set>
      <if test="code != null">
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="image != null">
        image = #{image,jdbcType=VARCHAR},
      </if>
      <if test="material != null">
        material = #{material,jdbcType=VARCHAR},
      </if>
      <if test="insidefabric != null">
        insidefabric = #{insidefabric,jdbcType=VARCHAR},
      </if>
      <if test="bottommaterial != null">
        bottommaterial = #{bottommaterial,jdbcType=VARCHAR},
      </if>
      <if test="type != null">
        type = #{type,jdbcType=VARCHAR},
      </if>
      <if test="color != null">
        color = #{color,jdbcType=VARCHAR},
      </if>
      <if test="factory != null">
        factory = #{factory,jdbcType=VARCHAR},
      </if>
      <if test="cost != null">
        cost = #{cost,jdbcType=VARCHAR},
      </if>
      <if test="price != null">
        price = #{price,jdbcType=REAL},
      </if>
      <if test="titlestate != null">
        titlestate = #{titlestate,jdbcType=INTEGER},
      </if>
      <if test="brand != null">
        brand = #{brand,jdbcType=VARCHAR},
      </if>
      <if test="takelength != null">
        takelength = #{takelength,jdbcType=INTEGER},
      </if>
        dctime = #{dctime,jdbcType=TIMESTAMP},
        altime = #{altime,jdbcType=TIMESTAMP},
        kdtime = #{kdtime,jdbcType=TIMESTAMP},
        tmtime = #{tmtime,jdbcType=TIMESTAMP},
        prephototime = #{prephototime,jdbcType=TIMESTAMP},
      <if test="dcpre != null">
        dcpre = #{dcpre,jdbcType=INTEGER},
      </if>
      <if test="alpre != null">
        alpre = #{alpre,jdbcType=INTEGER},
      </if>
      <if test="kdpre != null">
        kdpre = #{kdpre,jdbcType=INTEGER},
      </if>
      <if test="tmpre != null">
        tmpre = #{tmpre,jdbcType=INTEGER},
      </if>
      <if test="remarks != null">
        remarks = #{remarks,jdbcType=VARCHAR},
      </if>
      <if test="addtime != null">
        addtime = #{addtime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>

  <update id="updateByPrimaryKey" parameterType="com.tmqt.model.Productplan">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update productplan
    set code = #{code,jdbcType=VARCHAR},
    image = #{image,jdbcType=VARCHAR},
    material = #{material,jdbcType=VARCHAR},
    insidefabric = #{insidefabric,jdbcType=VARCHAR},
    bottommaterial = #{bottommaterial,jdbcType=VARCHAR},
    type = #{type,jdbcType=VARCHAR},
    color = #{color,jdbcType=VARCHAR},
    factory = #{factory,jdbcType=VARCHAR},
    cost = #{cost,jdbcType=VARCHAR},
    price = #{price,jdbcType=REAL},
    titlestate = #{titlestate,jdbcType=INTEGER},
    brand = #{brand,jdbcType=VARCHAR},
    takelength = #{takelength,jdbcType=INTEGER},
    dctime = #{dctime,jdbcType=TIMESTAMP},
    altime = #{altime,jdbcType=TIMESTAMP},
    kdtime = #{kdtime,jdbcType=TIMESTAMP},
    tmtime = #{tmtime,jdbcType=TIMESTAMP},
    dcpre = #{dcpre,jdbcType=INTEGER},
    alpre = #{alpre,jdbcType=INTEGER},
    kdpre = #{kdpre,jdbcType=INTEGER},
    tmpre = #{tmpre,jdbcType=INTEGER},
    prephototime = #{prephototime,jdbcType=TIMESTAMP},
    remarks = #{remarks,jdbcType=VARCHAR},
    addtime = #{addtime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <!--查询所有&分页查查询-->
  <select id="selectAll" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from productplan
    ORDER BY addtime DESC
  </select>

  <!--根据货号查找-->
  <select id="selectByCode" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from productplan
    where code = #{code,jdbcType=VARCHAR}
    ORDER BY addtime DESC
  </select>

  <!--变条件查询-->
  <select id="selectByIf" parameterType="java.util.Map" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from productplan
    where 1 = 1
    <trim prefix="" suffix="" suffixOverrides=",">
      <if test="code!=''">
        AND code = #{code,jdbcType=VARCHAR}
      </if>
      <if test="relTime != ''">
        AND (DATE_FORMAT(dctime,'%Y-%m-%d') = FROM_UNIXTIME(#{relTime,jdbcType=TIMESTAMP}, '%Y-%m-%d')
        OR DATE_FORMAT(altime,'%Y-%m-%d') = FROM_UNIXTIME(#{relTime,jdbcType=TIMESTAMP}, '%Y-%m-%d')
        OR DATE_FORMAT(kdtime,'%Y-%m-%d') = FROM_UNIXTIME(#{relTime,jdbcType=TIMESTAMP}, '%Y-%m-%d')
        OR DATE_FORMAT(tmtime,'%Y-%m-%d') = FROM_UNIXTIME(#{relTime,jdbcType=TIMESTAMP}, '%Y-%m-%d'))
      </if>
      <if test="prePhotoTime != ''">
        AND DATE_FORMAT(prephototime,'%Y-%m-%d') = FROM_UNIXTIME(#{prePhotoTime,jdbcType=TIMESTAMP}, '%Y-%m-%d')
      </if>
    </trim>
    ORDER BY addtime DESC
  </select>

  <!--统计数据条数-->
  <select id="countProductPlan" parameterType="java.lang.Integer" resultType="java.lang.Integer">
    SELECT COUNT(id)
    FROM productplan
  </select>
</mapper>